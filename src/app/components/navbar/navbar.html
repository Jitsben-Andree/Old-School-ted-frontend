<!-- Barra de navegaci칩n principal -->
<nav class="navbar shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Contenedor principal -->
    <div class="flex items-center justify-between h-20">
      
      <!-- 游댳 IZQUIERDA: Logo + Home -->
      <div class="flex items-center gap-8">
        <!-- Logo -->
        <a [routerLink]="['/']" class="flex items-center gap-3 overflow-hidden">
          <img src="assets/Logo.png" alt="OldSchool Tees"
               class="logo-navbar" loading="eager" decoding="async" />
        </a>

        <!-- Enlace Home -->
        <a [routerLink]="['/']" routerLinkActive="border-white"
           [routerLinkActiveOptions]="{ exact: true }"
           class="text-gray-100 hover:text-white inline-flex items-center border-b-2 border-transparent hover:border-white text-lg font-medium">
          Home (Cat치logo)
        </a>
      </div>

      <!-- 游댳 DERECHA: Carrito + Usuario + Logout (solo escritorio) -->
      <div class="hidden sm:flex items-center gap-6">
        @if (authService.isLoggedIn()) {
          <!-- Carrito -->
          <a [routerLink]="['/cart']"
             class="relative p-1 rounded-full text-gray-200 hover:text-white focus:outline-none">
            <span class="sr-only">Ver carrito</span>
            <svg class="h-7 w-7" xmlns="http://www.w3.org/2000/svg" fill="none"
                 viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
            @if (cartService.cart() && cartService.cart()!.items.length > 0) {
              <span
                class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold text-red-100 bg-red-600 rounded-full -mt-1 -mr-1">
                {{ cartService.cart()!.items.length }}
              </span>
            }
          </a>

          <!-- Usuario -->
          <span class="text-gray-100 font-semibold text-base">
            Hola, {{ authService.currentUser()?.nombre }}
          </span>

          <!-- Logout -->
          <button (click)="logout()"
                  class="text-gray-200 hover:text-white px-3 py-2 rounded-md text-base font-semibold">
            Logout
          </button>
        } @else {
          <!-- Si no est치 logueado -->
          <a [routerLink]="['/login']"
             class="text-gray-200 hover:bg-blue-800 hover:text-white px-3 py-2 rounded-md text-base font-medium">
            Login
          </a>
          <a [routerLink]="['/register']"
             class="text-gray-200 hover:bg-blue-800 hover:text-white px-3 py-2 rounded-md text-base font-medium">
            Registro
          </a>
        }
      </div>

      <!-- 游댳 Bot칩n men칰 m칩vil (solo m칩vil) -->
      <div class="-mr-2 flex items-center sm:hidden">
        <button (click)="toggleMobileMenu()" type="button" class="menu-btn" aria-label="Abrir men칰">
          <div class="hamburger" [class.open]="isMobileMenuOpen">
            <span></span><span></span><span></span>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- 游댳 Men칰 m칩vil desplegable -->
  <div class="mobile-menu sm:hidden" [class.hidden]="!isMobileMenuOpen">
    <a [routerLink]="['/']" (click)="toggleMobileMenu()" class="mobile-link">Home</a>
    <a [routerLink]="['/catalogo']" (click)="toggleMobileMenu()" class="mobile-link">Cat치logo</a>
    <a [routerLink]="['/cart']" (click)="toggleMobileMenu()" class="mobile-link">Carrito</a>

    @if (authService.isLoggedIn()) {
      <button (click)="logout()" class="mobile-link text-left">Logout</button>
    } @else {
      <a [routerLink]="['/login']" (click)="toggleMobileMenu()" class="mobile-link">Login</a>
      <a [routerLink]="['/register']" (click)="toggleMobileMenu()" class="mobile-link">Registro</a>
    }
  </div>
</nav>
